<ion-header mode="ios">
  <ion-toolbar color="medium">
    <ion-title >
      All Products
    </ion-title>
  </ion-toolbar>
 <ion-content [fullscreen]="true">

    <div class="suggestion">
      <ion-item >
        <ion-icon slot="start" name="search"></ion-icon>
        <ion-input placeholder="Search" [(ngModel)]="search_text" ></ion-input>
        <ion-button fill="clear" mode="ios" (click)="search(search_text)">Search</ion-button>
      </ion-item>
    </div>

      <div class="my-2 w-100 select">
        <app-select [data]="categories" (selection)="filterBy($event)"></app-select>
    </div>


  <ion-row *ngIf="!loading">
    <ion-col size="12" *ngFor="let p of products">

      <ion-card (click)="detail(p.id)" >
        <ion-card-content>
          <div class="card-content">
            <div class="card-text">
              <ion-card-title>Product Name</ion-card-title>
              <ion-card-subtitle>Price: {{p.price}} L.E</ion-card-subtitle>
            <ion-card-content>
              {{p.description | slice:0:50}}{{p.description.length>30?'...':''}}
            </ion-card-content>
          </div>
          <div class="card-image">
            <ion-img src="{{p.image}}"></ion-img>
          </div>
        </div>
      </ion-card-content>
    </ion-card>
  </ion-col>

</ion-row>

<div class="text-center w-100" *ngIf="loading">
<app-spinner></app-spinner>
</div>

</ion-content>
